<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="https://jakeballz.com/api/css/scrabble">
    <!--<link rel="stylesheet" href="styles.css">  remove this temporary-->
    <script type="text/javascript" src="https://jakeballz.com/api/js/scrabble"></script>
    <script type="text/javascript" async src="https://jakeballz.com/api/js/scrabble-words"></script>
    <title>Scrabble Helper</title>
    <meta charset="utf-8">
</head>

<body onload="loaded()">
    <h1 id="scrabble-title">Scrabble Helper</h1>
    <div id="main-content">
        <span id="scrabble-board"></span>
        <span class="point-reference"></span>
        <span class="point-reference"></span>
        <button id="solve-button" onclick="solve()">Solve</button>
        <input id="hand" type="text"></input>
    </div>

    <script>
        function loaded() {
            addTags();
        }

        function checkForOneLetter(id) { // make sure this is a letter???????????????????????????????????????????????
            let element = document.getElementById(id);
            if (element) {
                element.value = element.value.charAt(element.value.length - 1);
            }
        }

        function addTags() {
            let board = document.getElementById("scrabble-board");
            const centerTile = 112;
            const tripleWordTiles = [0, 7, 14, 210, 217, 224];
            const tripleLetterTiles = [20, 24, 76, 80, 84, 88, 136, 140, 144, 148, 200, 204];
            const doubleWordTiles = [16, 28, 32, 42, 48, 56, 64, 70, 154, 160, 176, 168, 172, 182, 192, 196, 208];
            const doubleLetterTiles = [3, 11, 36, 38, 45, 52, 59, 92, 96, 98, 102, 108, 116, 122, 126, 128, 132, 172, 179, 186, 165, 188, 213, 221];
            let allTags = "";
            let style = "";
            for (let i = 0; i < 225; i++) {
                if (tripleWordTiles.indexOf(i) !== -1) { style = "\"background-color: red;\""; }
                else if (tripleLetterTiles.indexOf(i) !== -1) { style = "\"background-color: green;\""; }
                else if (doubleLetterTiles.indexOf(i) !== -1) { style = "\"background-color: yellow;\""; }
                else if (doubleWordTiles.indexOf(i) !== -1) { style = "\"background-color: pink;\""; }
                else if (i === centerTile) { style = "\"background-color: orange;\""; }
                else { style = "\"background-color: white;\""; }

                allTags += `<input style=${style} id=${i} type=\"text\" tabindex=\"1\" onchange="checkForOneLetter(${i})"></input>`;
            }
            board.innerHTML = allTags;

            let pointReferenceLeft = document.getElementsByClassName("point-reference")[0];
            let pointReferenceRight = document.getElementsByClassName("point-reference")[1];
            const letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
            const points = [1, 3, 3, 2, 1, 4, 2, 4, 1, 8, 5, 1, 3, 1, 1, 3, 10, 1, 1, 1, 1, 4, 4, 8, 4, 10];
            let leftContent;
            let rightContent;
            let currentIndex;
            let rightTags = "";
            let leftTags = "";
            for (let i = 0; i < 26; i++){
                currentIndex = Math.floor(i / 2)
                if (i % 2 === 0){
                    leftContent = letters[currentIndex];
                    rightContent = letters[currentIndex + 13];
                }
                else {
                    leftContent = points[currentIndex];
                    rightContent = points[currentIndex + 13];
                }
                leftTags += `<p>${leftContent}</p>`;
                rightTags += `<p>${rightContent}</p>`;
            }
            pointReferenceLeft.innerHTML = leftTags;
            pointReferenceRight.innerHTML = rightTags;
        }
    </script>

</body>